{{ if eq .chezmoi.os "linux" -}}
#!/bin/sh

# Upgrade first
sudo eopkg upgrade

# Installing for Solus
echo "Installing packages and apps"
sudo eopkg install \
  alacritty \
  bat \
  git \
  lazygit \
  lf \
  neovim \
  ripgrep \
  silver-searcher \
  tmux \
  zsh

sudo eopkg install -c system.devel

# Install font
if [ ! -d "~/.local/share/fonts" ]
then
  mkdir -p ~/.local/share/fonts
  cd ~/.local/share/fonts
  curl -fLo "hack.zip" https://github.com/source-foundry/Hack/releases/download/v3.003/Hack-v3.003-ttf.zip
  unzip hack.zip
  rm hack.zip
  fc-cache -f -v
else
  echo "Fonts already installed"
fi

# Install Rust
if ! command -v rustup &> /dev/null
then
  echo "Installing rustup"
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
fi

echo "Checking if zellij is installed..."
# Install Zellij
if ! command -v zellij &> /dev/null
then
  echo "Installing zellij"
  source $HOME/.cargo/env
  cargo install zellij
else
  echo "Zellij is installed already"
fi

# Install asdf and other langs
echo "Checking if asdf is installed"
if ! command -v asdf &> /dev/null
then
  echo "Installing asdf"
  git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.9.0
  source $HOME/.asdf/asdf.sh
else
  echo "asdf is already installed!"

fi

# Installing langs
## Nodejs
echo "Checking if nodejs is installed"
if ! command -v node &> /dev/null
then
  asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git
  asdf install nodejs latest
  asdf global nodejs latest
  echo "Installed Nodejs LTS and set it to global asdf version"
else
  echo "nodejs already installed"
fi

# Communicate installation complete

echo -e "\033[0;35m

#################################################
Packages and apps installed!

If there are problems with the setup or script:
JOT THE PROBLEM DOWN IN YOUR TODO APP!!!!!
Before you forget.
Your future and past selves thank you.
#################################################
\033[0m
"
{{ end -}}

